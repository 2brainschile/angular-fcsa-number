/*! fcsa-number (version 0.1.0) 2014-06-25 */
(function(){angular.module("fcsa-number",[]).directive("fcsaNumber",function(){var a,b,c,d,e,f,g,h,i,j;return e=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},d=function(a){return 45>a||a>57||47===a},c=function(a){return null!=a&&a.toString().split(".").length>2},g=function(a){var b,c;return b=a>0?"^-?\\d*\\.?\\d{0,"+a+"}$":"^-?\\d*$",c=new RegExp(b),function(a){return c.test(a)}},i=function(a){return function(b,c){return a>=c}},j=function(a){return function(b,c){return c>=a}},h=function(a){var b;return b=new RegExp("^-?\\d{0,"+a+"}(\\.\\d*)?$"),function(a){return b.test(a)}},f=function(a){var b;return b=[],null!=a.decimals&&b.push(g(a.decimals)),null!=a.max&&b.push(i(a.max)),null!=a.min&&b.push(j(a.min)),null!=a.digits&&b.push(h(a.digits)),function(a){var d,f,g,h;if("-"===a)return!0;if(!e(a))return!1;if(c(a))return!1;for(f=Number(a),d=g=0,h=b.length;h>=0?h>g:g>h;d=h>=0?++g:--g)if(!b[d](a,f))return!1;return!0}},b=/,/g,a=function(a){return a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},{restrict:"A",require:"ngModel",scope:{options:"@fcsaNumber"},link:function(c,e,g,h){var i,j;return j={},null!=c.options&&(j=c.$eval(c.options)),i=f(j),h.$parsers.unshift(function(a){return i(a)||!a?(h.$setValidity("fcsaNumber",!0),a):void h.$setValidity("fcsaNumber",!1)}),h.$formatters.push(function(b){return null==j.nullDisplay||b&&""!==b?null!=b&&i(b)?(h.$setValidity("fcsaNumber",!0),a(b)):b:j.nullDisplay}),e.on("blur",function(){var a,b,c,d,e;if(b=h.$modelValue,null!=b&&i(b)){for(e=h.$formatters,c=0,d=e.length;d>c;c++)a=e[c],b=a(b);return h.$viewValue=b,h.$render()}}),e.on("focus",function(a){var c,d;return c=$(a.target),d=c.val(),c.val(d.replace(b,"")),c.select()}),e.on("keypress",function(a){return d(a.which)?a.preventDefault():void 0})}}})}).call(this);