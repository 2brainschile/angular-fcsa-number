/*! angular-fcsa-number (version 1.2.1) 2014-09-26 */
(function(){angular.module("fcsa-number",[]).directive("fcsaNumber",function(){var a,b,c,d,e,f,g,h,i,j,k;return f=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},e=function(a){return 45>a||a>57||47===a},b=[0,8,13],d=function(a){return-1===b.indexOf(a)},c=function(a){return null!=a&&a.toString().split(".").length>2},h=function(a){var b,c;return b=a>0?"^-?\\d*\\.?\\d{0,"+a+"}$":"^-?\\d*$",c=new RegExp(b),function(a){return c.test(a)}},j=function(a){return function(b,c){return a>=c}},k=function(a){return function(b,c){return c>=a}},i=function(a){var b;return b=new RegExp("^-?\\d{0,"+a+"}(\\.\\d*)?$"),function(a){return b.test(a)}},g=function(a){var b;return b=[],null!=a.maxDecimals&&b.push(h(a.maxDecimals)),null!=a.max&&b.push(j(a.max)),null!=a.min&&b.push(k(a.min)),null!=a.maxDigits&&b.push(i(a.maxDigits)),function(a){var d,e,g,h;if(!f(a))return!1;if(c(a))return!1;for(e=Number(a),d=g=0,h=b.length;h>=0?h>g:g>h;d=h>=0?++g:--g)if(!b[d](a,e))return!1;return!0}},a=function(a){var b,c,d;return c=-1==a.indexOf(".")?"":a.replace(/^\d+(?=\.)/,""),d=a.replace(/(\.\d+)$/,""),b=d.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),""+b+c},{restrict:"A",require:"ngModel",scope:{options:"@fcsaNumber"},link:function(b,c,f,h){var i,j;return j={},null!=b.options&&(j=b.$eval(b.options)),i=g(j),h.$parsers.unshift(function(a){var b;return b=a.replace(/,/g,""),i(b)||!b?(h.$setValidity("fcsaNumber",!0),b):void h.$setValidity("fcsaNumber",!1)}),h.$formatters.push(function(b){return null==j.nullDisplay||b&&""!==b?null!=b&&i(b)?(h.$setValidity("fcsaNumber",!0),a(b.toString())):b:j.nullDisplay}),c.on("blur",function(){var a,b,c,d,e;if(b=h.$modelValue,null!=b&&i(b)){for(e=h.$formatters,c=0,d=e.length;d>c;c++)a=e[c],b=a(b);return h.$viewValue=b,h.$render()}}),c.on("focus",function(){var a;return a=c.val(),c.val(a.replace(/,/g,"")),c[0].select()}),j.preventInvalidInput===!0?c.on("keypress",function(a){return e(a.which&&d(a.which))?a.preventDefault():void 0}):void 0}}})}).call(this);